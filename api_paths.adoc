---
sidebar: sidebar
permalink: 5_paths.html
keywords: script, scripts, scripting, api request, api response, json schema, authentication, api, restful, restful API, rest API, rest, error codes, api parameters, netapp, cloud, ontap, Cloud Volumes ONTAP, manager, management, oncommand, storage
summary: OnCommand Cloud Manager includes REST APIs that enable software developers to automate the management of Cloud Volumes ONTAP. You should understand how the APIs work before you get started.
---

= Resources
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
This section describes the API calls available for each resource.

=== Active-directory
==== Retrieves active directory entries.
----
GET /active-directory
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ActiveDirectoryEntry>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new active directory entry.
----
POST /active-directory
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create Active Directory Request|true|<<ActiveDirectoryCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Check connection to active directory.
----
POST /active-directory/check-connection
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create Active Directory Request|true|<<ActiveDirectoryCheckConnectionRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing active directory entry.
----
DELETE /active-directory/{activeDirectoryId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|activeDirectoryId|Public Id of active directory|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates an existing active directory entry.
----
PUT /active-directory/{activeDirectoryId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|activeDirectoryId|Public Id of active directory|true|string|
|BodyParameter|body|Create Active Directory Request|true|<<ActiveDirectoryUpdateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Audit
==== Retrieves audit group entries optionally filtered by query parameters.
----
GET /audit
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|limit|Limit entries to specific amount|false|integer (int32)|
|QueryParameter|after|Filter entries after specific date|false|integer (int64)|
|QueryParameter|workingEnvironmentId|Filter entries by working environment public ID|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AuditGroupSummary>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves audit groups and group records optionally filtered by query parameters.
----
GET /audit/auditserver
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AuditGroupSummary>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the audit group entry for the specific request ID.
----
GET /audit/{requestId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|requestId|Retrieve audit group entries for this request ID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AuditGroupSummary>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Aws-ha:aggregates
==== Retrieves aggregates
----
GET /aws/ha/aggregates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Public Id of working environment|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AggregateResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new aggregate
----
POST /aws/ha/aggregates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create Aggregate Request|true|<<VsaAggregateCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds disks to an existing aggregate
----
POST /aws/ha/aggregates/{workingEnvironmentId}/{aggregateName}/disks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be updated|true|string|
|BodyParameter|body|Add disk to aggregate request|true|<<AddDisksToAggregateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing aggregate
----
DELETE /aws/ha/aggregates/{workingEnvironmentId}/{aggregateName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be deleted|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Aws-ha:discovery
==== Retrieves a list of discovered working environments visible to the current user in the specified AWS region.
----
GET /aws/ha/discovery/discover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Region to discover working environments|true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<DiscoveredAwsHaResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Saves a previously discovered Cloud Volumes ONTAP working environment to the Cloud Manager database.
----
POST /aws/ha/discovery/recover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<RecoverVsaRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Aws-ha:encryption
==== Updates the client certificate on the Cloud Volumes ONTAP system
----
POST /aws/ha/encryption/{workingEnvironmentId}/update-client-certificate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes a key manager from the Cloud Volumes ONTAP system
----
DELETE /aws/ha/encryption/{workingEnvironmentId}/key-managers/{keyManagerIp}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|keyManagerIp|Key manager IP address|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds a key manager to the Cloud Volumes ONTAP system
----
POST /aws/ha/encryption/{workingEnvironmentId}/key-managers/{keyManagerIp}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|keyManagerIp|Key manager IP address|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates the key manager CA certificate on the Cloud Volumes ONTAP system
----
POST /aws/ha/encryption/{workingEnvironmentId}/update-key-manager-ca-certificate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update Cloud Volumes ONTAP key manager CA certificate request parameters|true|<<UpdateKeyManagerCaCertificateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Aws-ha:metadata
==== Retrieves the minimum number of required IPs for a single Cloud Volumes ONTAP system, an HA node, and HA mediator
----
GET /aws/ha/metadata/network-requirements
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<NetworkRequirementsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported capacity tiers for EBS volume types
----
GET /aws/ha/metadata/supported-capacity-tiers
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedCapacityTiers>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS user Key Pairs for all regions
----
GET /aws/ha/metadata/key-pairs-by-region
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<KeyPairsByRegionResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all Cloud Volumes ONTAP configurations.
----
GET /aws/ha/metadata/permutations
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Filter by region|false|string|
|QueryParameter|version|Filter by version|false|string|
|QueryParameter|license|Filter by license|false|string|
|QueryParameter|instance_type|Filter by instance type|false|string|
|QueryParameter|default_instance_type|Filter by default instance type|false|string|
|QueryParameter|feature|Filter by feature|false|string|
|QueryParameter|latest_only|Filter latest only|false|string|
|QueryParameter|ami|Filter by ami id|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<Configuration>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validate HA floating IPs.
----
POST /aws/ha/metadata/validate-floating-ips
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Validate HA floating IPs request|true|<<AwsHaFloatingIpValidationData>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsHaFloatingIpValidationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS regions over which an Cloud Volumes ONTAP working environment may be created
----
GET /aws/ha/metadata/regions
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<Region>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves route tables per vpc and their subnet associations.
----
GET /aws/ha/metadata/route-tables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|vpcId||true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<RouteTableResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves default snapshot policies available on a cluster
----
GET /aws/ha/metadata/default-snapshot-policies
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotPolicy>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported EBS volume types
----
GET /aws/ha/metadata/ebs-volume-types
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<EbsVolumeType>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS instance profiles
----
GET /aws/ha/metadata/instance-profiles
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InstanceProfileResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS user Key Pairs for specific region
----
GET /aws/ha/metadata/key-pairs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|string array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves packages configuration
----
GET /aws/ha/metadata/packages
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<PackageInfoResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all the Tag names
----
GET /aws/ha/metadata/tag-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TagKeyResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves additional AWS accounts
----
GET /aws/ha/metadata/additional-accounts
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsAccountResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds an additional AWS account
----
POST /aws/ha/metadata/additional-accounts
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Add AWS Account Request|true|<<AddAwsAccountRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsAccountResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves VPCs
----
GET /aws/ha/metadata/vpcs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VpcExtendedResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS encryption keys for specific region
----
GET /aws/ha/metadata/aws-encryption-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsEncryptionKey>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates the current user is subscribed to Cloud Volumes ONTAP product in Amazon marketplace
----
POST /aws/ha/metadata/validate-subscribed-to-ontap-cloud
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Validate subscribed to Cloud Volumes ONTAP request|true|<<AwsValidateSubscribedToOntapCloudRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsValidateSubscribedToOntapCloudResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported features
----
GET /aws/ha/metadata/supported-features
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedFeaturesResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves instance types not supporting acceleration and capacity tiering
----
GET /aws/ha/metadata/instance-types-not-supporting-acceleration-and-capacity-tiering
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InstanceTypesNotSupportingAccelerationAndCapacityTieringResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all Cloud Manager manifests. Refer to the API Developers Guide in order to understand how to extract valid region codes, license types, instance types and Cloud Volumes ONTAP version parameters for the creation of an Cloud Volumes ONTAP working environment.
----
GET /aws/ha/metadata/manifests
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<MetadataResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Aws-ha:volumes
==== Quotes a new volume. Returns a resource quote needed to satisfy the requested volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /aws/ha/volumes/quote
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Quote volume request|true|<<VsaVolumeQuoteRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaVolumeQuoteResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Move an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /aws/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/move
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeMoveRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot manually.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /aws/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshot
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body|Create snapshot request|true|<<SnapshotCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return a list of snapshot descriptions for the volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /aws/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change underlying volume tier.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /aws/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/change-tier
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<ChangeVolumeTierRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
DELETE /aws/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
PUT /aws/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|ref|
|BodyParameter|body|Modify volume request|true|<<VolumeModifyRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Clones an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /aws/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/clone
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeCloneRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves volumes.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /aws/ha/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Filter volumes by this working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VolumeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new volume. If the properties aggregateName and maxNumOfDisksApprovedToAdd are not filled in, then the response will fail with a suggested aggregate name and the number of disks that will need to be created in order to fulfill the request.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /aws/ha/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|createAggregateIfNotFound|On create volume request, allow creating not-found aggregate|false|boolean|
|BodyParameter|body|Create volume request|true|<<VsaVolumeCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Aws-ha:working-environments
==== Retrieves CIFS Configuration to an existing Cloud Volumes ONTAP working environment
----
GET /aws/ha/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CIFSConfigurationResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS Configuration to an existing Cloud Volumes ONTAP working environment
----
POST /aws/ha/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Set schedules for Cloud Volumes ONTAP
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Cloud Volumes ONTAP working environment update schedule request|true|<<VsaSchedulesRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== List start-stop schedules for Cloud Volumes ONTAP
----
GET /aws/ha/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaSchedule>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the support registration status of an Cloud Volumes ONTAP system
----
GET /aws/ha/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Registers an Cloud Volumes ONTAP system with NetApp
----
POST /aws/ha/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the instance type of a specific Cloud Volumes ONTAP
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Instance type modification request|true|<<LicenseAndInstanceTypeModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all license types and their associated instance types for a given Cloud Volumes ONTAP instance
----
GET /aws/ha/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<LicenseAndInstanceType>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS using workgroup configuration to an existing Cloud Volumes ONTAP working environment
----
POST /aws/ha/working-environments/{workingEnvironmentId}/cifs-workgroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSWorkgroupConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a list of versions to which this Cloud Volumes ONTAP can be upgraded
----
GET /aws/ha/working-environments/{workingEnvironmentId}/occm-provided-upgrade-versions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OntapUpdateImageMetadata>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change serial number of Cloud Volumes ONTAP
----
POST /aws/ha/working-environments/{workingEnvironmentId}/change-serial
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change serial number request|true|<<ChangeSerialNumberRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates the route tables of an HA Cloud Volumes ONTAP working environment.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/route-tables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|BodyParameter|body||true|<<UpdateRouteTablesRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Stops a specific Cloud Volumes ONTAP instance
----
POST /aws/ha/working-environments/{workingEnvironmentId}/stop
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|takeSnapshots|Take snapshots before stopping Cloud Volumes ONTAP|true|boolean|true
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Performs a complete image update operation on the single node of the specified Cloud Volumes ONTAP
----
POST /aws/ha/working-environments/{workingEnvironmentId}/update-image
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update system image request|true|<<UpdateSystemImageRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves images already installed on the Cloud Volumes ONTAP
----
GET /aws/ha/working-environments/{workingEnvironmentId}/ontap-available-images
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UpdateLocalImage>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot policy
----
POST /aws/ha/working-environments/{workingEnvironmentId}/snapshot-policy
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|BodyParameter|body|Create snapshot policy request|true|<<SnapshotPolicyCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Starts a specific Cloud Volumes ONTAP instance
----
POST /aws/ha/working-environments/{workingEnvironmentId}/start
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing Cloud Volumes ONTAP working environment, including all Cloud resources created for this working environment (unless the localDelete flag is set to true)
----
DELETE /aws/ha/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|localDelete|If true, the Cloud Volumes ONTAP instance is not terminated in Cloud, but Cloud Manager no longer manages the working environment.|false|boolean|false
|QueryParameter|forceDelete|If true, the working environment will be deleted even if it is part of one or more SnapMirror relationships.|false|boolean|false
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves an HA Cloud Volumes ONTAP working environment.
----
GET /aws/ha/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Checks for the presence of non-persistent locks held on CIFs Sessions.
----
GET /aws/ha/working-environments/{workingEnvironmentId}/cifs-locks-exist
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|boolean
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the net port broadcast domain mtu of the Cloud Volumes ONTAP
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/networkOptimization
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Use optimization|true|<<ChangeNetworkOptimizationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify user tags for cloud resources of a given Cloud Volumes ONTAP instance
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Modify user tags request|true|<<ModifyUserTagsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves editable tags for cloud resources of a given Cloud Volumes ONTAP instance
----
GET /aws/ha/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UserTagsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates mediator of the specified Cloud Volumes ONTAP with the given version.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /aws/ha/working-environments/{workingEnvironmentId}/update-mediator
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Parses an uploaded Cloud license file
----
POST /aws/ha/working-environments/parse-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ProvidedLicenseResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Sets the writing speed for Cloud Volumes ONTAP
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/writing-speed
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Writing speed request|true|<<WritingSpeedRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Activate offbox configuration
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/offbox
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates Cloud Manager password of a specific Cloud Volumes ONTAP
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/update-credentials
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update Cloud Manager password request|true|<<UpdateCredentialsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new AWS HA Cloud Volumes ONTAP working environment.
----
POST /aws/ha/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<CreateAwsHaWorkingEnvironmentRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves action parameters used in create request of a given Cloud Volumes ONTAP instance
----
GET /aws/ha/working-environments/{workingEnvironmentId}/create-request-parameters
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CreateRequestParametersResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves eligibility support status of an Cloud Volumes ONTAP system. Valid values - NSS_NOT_VALID, NOT_REGISTERED, IPA_PROBLEM, VALID, NSS_NOT_EXISTS, LICENSE_EXPIRED
----
GET /aws/ha/working-environments/{workingEnvironmentId}/update-eligibility
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<EligibilityResponse>>
|400|Working Environment must be ON or UPDATING in order to check eligibility|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Manually triggers subscription sync for all Cloud Volumes ONTAP working environments
----
POST /aws/ha/working-environments/sync-subscription
----

===== Consumes

* application/json

===== Produces

* application/json

==== Uploads a Cloud license file content on the provided Cloud Volumes ONTAP
----
POST /aws/ha/working-environments/{workingEnvironmentId}/upload-licenses
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|license file content request|true|<<LicenseFileContent>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change tier level
----
POST /aws/ha/working-environments/{workingEnvironmentId}/change-tier-level
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change tier level request|true|<<ChangeTierLevelRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the svm name of the Cloud Volumes ONTAP
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/svm
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Svm name modification request|true|<<SvmNameModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Enable capacity tiering
----
POST /aws/ha/working-environments/{workingEnvironmentId}/enable-capacity-tiering
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Enable capacity tiering request|true|<<EnableCapacityTieringRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the cluster password of a specific Cloud Volumes ONTAP
----
PUT /aws/ha/working-environments/{workingEnvironmentId}/set-password
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|occmOnly||false|boolean|
|BodyParameter|body|Set password request|true|<<PasswordWrapper>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Uploads a Cloud license file on the provided Cloud Volumes ONTAP
----
POST /aws/ha/working-environments/{workingEnvironmentId}/upload-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

=== Azure-ha:aggregates
==== Creates a new aggregate
----
POST /azure/ha/aggregates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create Aggregate Request|true|<<VsaAggregateCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing aggregate
----
DELETE /azure/ha/aggregates/{workingEnvironmentId}/{aggregateName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be deleted|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds disks to an existing aggregate
----
POST /azure/ha/aggregates/{workingEnvironmentId}/{aggregateName}/disks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be updated|true|string|
|BodyParameter|body|Add disk to aggregate request|true|<<AddDisksToAggregateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves aggregates
----
GET /azure/ha/aggregates/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AggregateResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-ha:discovery
==== Saves a previously discovered Cloud Volumes ONTAP working environment to the Cloud Manager database.
----
POST /azure/ha/discovery/recover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<RecoverAzureHARequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a list of discovered working environments visible to the current user in the specified Azure region.
----
GET /azure/ha/discovery/discover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Region to discover working environments|true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<DiscoveredAzureHaResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-ha:metadata
==== Validates the current user is subscribed to Cloud Volumes ONTAP product in Azure marketplace
----
POST /azure/ha/metadata/validate-subscribed-to-ontap-cloud
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Validate subscribed to Cloud Volumes ONTAP request|true|<<AzureValidateSubscribedToOntapCloudRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureValidateSubscribedToOntapCloudResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves packages configuration
----
GET /azure/ha/metadata/packages
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<PackageInfoResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Azure regions over which an Cloud Volumes ONTAP working environment may be created
----
GET /azure/ha/metadata/regions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureRegionResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves default snapshot policies available on a cluster
----
GET /azure/ha/metadata/default-snapshot-policies
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotPolicy>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported Azure storage account types
----
GET /azure/ha/metadata/storage-account-types
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureStorageAccountTypeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported capacity tiers for Azure disk types
----
GET /azure/ha/metadata/supported-capacity-tiers
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedCapacityTiers>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves instance types not supporting acceleration and capacity tiering
----
GET /azure/ha/metadata/instance-types-not-supporting-acceleration-and-capacity-tiering
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InstanceTypesNotSupportingAccelerationAndCapacityTieringResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves associated subscriptions
----
GET /azure/ha/metadata/associated-subscriptions
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AssociatedSubscription>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all ONTAP Cloud configurations.
----
GET /azure/ha/metadata/permutations
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Filter by region|false|string|
|QueryParameter|version|Filter by version|false|string|
|QueryParameter|license|Filter by license|false|string|
|QueryParameter|instance_type|Filter by instance type|false|string|
|QueryParameter|default_instance_type|Filter by default instance type|false|string|
|QueryParameter|feature|Filter by feature|false|string|
|QueryParameter|latest_only|Filter latest only|false|string|
|QueryParameter|marketplace_version|Filter by marketplace version|false|string|
|QueryParameter|marketplace_sku|Filter by marketplace sku|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<Configuration>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported features
----
GET /azure/ha/metadata/supported-features
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedFeaturesResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Network Extended Info
----
GET /azure/ha/metadata/vnets
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureNetworkExtendedResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the minimum number of required IPs for an Cloud Volumes ONTAP system
----
GET /azure/ha/metadata/network-requirements
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureNetworkRequirementsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all the Tag names
----
GET /azure/ha/metadata/tag-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TagKeyResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-ha:volumes
==== Quotes a new volume. Returns a resource quote needed to satisfy the requested volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/ha/volumes/quote
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Quote volume request|true|<<VsaVolumeQuoteRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaVolumeQuoteResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return a list of snapshot descriptions for the volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /azure/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Clones an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/clone
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeCloneRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Move an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/move
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeMoveRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
DELETE /azure/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
PUT /azure/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|ref|
|BodyParameter|body|Modify volume request|true|<<VolumeModifyRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves volumes.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /azure/ha/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Filter volumes by this working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VolumeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new volume. If the properties aggregateName and maxNumOfDisksApprovedToAdd are not filled in, then the response will fail with a suggested aggregate name and the number of disks that will need to be created in order to fulfill the request.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/ha/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|createAggregateIfNotFound|On create volume request, allow creating not-found aggregate|false|boolean|
|BodyParameter|body|Create volume request|true|<<VsaVolumeCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change underlying volume tier.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/change-tier
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<ChangeVolumeTierRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot manually.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/ha/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshot
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body|Create snapshot request|true|<<SnapshotCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-ha:working-environments
==== Manually triggers subscription sync for all Cloud Volumes ONTAP working environments
----
POST /azure/ha/working-environments/sync-subscription
----

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Cloud Volumes ONTAP working environments visible to the currently logged in user
----
GET /azure/ha/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|QueryParameter|tenantId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new Azure HA Cloud Volumes ONTAP working environment.
----
POST /azure/ha/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<CreateAzureVSAWorkingEnvironmentRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Set schedules for Cloud Volumes ONTAP
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Cloud Volumes ONTAP working environment update schedule request|true|<<VsaSchedulesRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== List start-stop schedules for Cloud Volumes ONTAP
----
GET /azure/ha/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaSchedule>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Checks for the presence of non-persistent locks held on CIFs Sessions.
----
GET /azure/ha/working-environments/{workingEnvironmentId}/cifs-locks-exist
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|boolean
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Starts a specific Cloud Volumes ONTAP instance
----
POST /azure/ha/working-environments/{workingEnvironmentId}/start
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Parses an uploaded Cloud license file
----
POST /azure/ha/working-environments/parse-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ProvidedLicenseResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Returns true if a resource group with that name already exists, false otherwise
----
GET /azure/ha/working-environments/resource-group-exists/{resourceGroupName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|resourceGroupName|resource group name|true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|boolean
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the support registration status of an Cloud Volumes ONTAP system
----
GET /azure/ha/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Registers an Cloud Volumes ONTAP system with NetApp
----
POST /azure/ha/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the cluster password of a specific Cloud Volumes ONTAP
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/set-password
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|occmOnly||false|boolean|
|BodyParameter|body|Set password request|true|<<PasswordWrapper>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves number of available ip addresses in the Cloud Volumes ONTAP working environment's subnet
----
GET /azure/ha/working-environments/{workingEnvironmentId}/available-ips-in-subnet
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AvailableIpsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a list of versions to which this Cloud Volumes ONTAP can be upgraded
----
GET /azure/ha/working-environments/{workingEnvironmentId}/occm-provided-upgrade-versions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OntapUpdateImageMetadata>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates Cloud Manager password of a specific Cloud Volumes ONTAP
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/update-credentials
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update Cloud Manager password request|true|<<UpdateCredentialsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Stops a specific Cloud Volumes ONTAP instance
----
POST /azure/ha/working-environments/{workingEnvironmentId}/stop
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|takeSnapshots|Take snapshots before stopping Cloud Volumes ONTAP|true|boolean|true
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change serial number of Cloud Volumes ONTAP
----
POST /azure/ha/working-environments/{workingEnvironmentId}/change-serial
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change serial number request|true|<<ChangeSerialNumberRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves CIFS Configuration to an existing Cloud Volumes ONTAP working environment
----
GET /azure/ha/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CIFSConfigurationResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS Configuration to an existing Cloud Volumes ONTAP working environment
----
POST /azure/ha/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Enable capacity tiering
----
POST /azure/ha/working-environments/{workingEnvironmentId}/enable-capacity-tiering
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Enable capacity tiering request|true|<<EnableCapacityTieringRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the instance type of a specific Cloud Volumes ONTAP
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Instance type modification request|true|<<LicenseAndInstanceTypeModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all license types and their associated instance types for a given Cloud Volumes ONTAP instance
----
GET /azure/ha/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<LicenseAndInstanceType>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves eligibility support status of an Cloud Volumes ONTAP system. Valid values - NSS_NOT_VALID, NOT_REGISTERED, IPA_PROBLEM, VALID, NSS_NOT_EXISTS, LICENSE_EXPIRED
----
GET /azure/ha/working-environments/{workingEnvironmentId}/update-eligibility
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<EligibilityResponse>>
|400|Working Environment must be ON or UPDATING in order to check eligibility|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves action parameters used in create request of a given Cloud Volumes ONTAP instance
----
GET /azure/ha/working-environments/{workingEnvironmentId}/create-request-parameters
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CreateRequestParametersResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify user tags for cloud resources of a given Cloud Volumes ONTAP instance
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Modify user tags request|true|<<ModifyUserTagsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves editable tags for cloud resources of a given Cloud Volumes ONTAP instance
----
GET /azure/ha/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UserTagsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the net port broadcast domain mtu of the Cloud Volumes ONTAP
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/networkOptimization
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Use optimization|true|<<ChangeNetworkOptimizationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves images already installed on the Cloud Volumes ONTAP
----
GET /azure/ha/working-environments/{workingEnvironmentId}/ontap-available-images
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UpdateLocalImage>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change tier level
----
POST /azure/ha/working-environments/{workingEnvironmentId}/change-tier-level
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change tier level request|true|<<ChangeTierLevelRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the svm name of the Cloud Volumes ONTAP
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/svm
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Svm name modification request|true|<<SvmNameModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Uploads a Cloud license file content on the provided Cloud Volumes ONTAP
----
POST /azure/ha/working-environments/{workingEnvironmentId}/upload-licenses
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|license file content request|true|<<LicenseFileContent>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the writing speed for Cloud Volumes ONTAP
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/writing-speed
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Writing speed request|true|<<WritingSpeedRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS using workgroup configuration to an existing Cloud Volumes ONTAP working environment
----
POST /azure/ha/working-environments/{workingEnvironmentId}/cifs-workgroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSWorkgroupConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing Cloud Volumes ONTAP working environment, including all Cloud resources created for this working environment (unless the localDelete flag is set to true)
----
DELETE /azure/ha/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|localDelete|If true, the Cloud Volumes ONTAP instance is not terminated in Cloud, but Cloud Manager no longer manages the working environment.|false|boolean|false
|QueryParameter|forceDelete|If true, the working environment will be deleted even if it is part of one or more SnapMirror relationships.|false|boolean|false
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves an Cloud Volumes ONTAP working environment
----
GET /azure/ha/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot policy
----
POST /azure/ha/working-environments/{workingEnvironmentId}/snapshot-policy
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|BodyParameter|body|Create snapshot policy request|true|<<SnapshotPolicyCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Activate offbox configuration
----
PUT /azure/ha/working-environments/{workingEnvironmentId}/offbox
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Performs a complete image update operation on the single node of the specified Cloud Volumes ONTAP
----
POST /azure/ha/working-environments/{workingEnvironmentId}/update-image
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update system image request|true|<<UpdateSystemImageRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Uploads a Cloud license file on the provided Cloud Volumes ONTAP
----
POST /azure/ha/working-environments/{workingEnvironmentId}/upload-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

=== Azure-vsa:aggregates
==== Adds disks to an existing aggregate
----
POST /azure/vsa/aggregates/{workingEnvironmentId}/{aggregateName}/disks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be updated|true|string|
|BodyParameter|body|Add disk to aggregate request|true|<<AddDisksToAggregateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new aggregate
----
POST /azure/vsa/aggregates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create Aggregate Request|true|<<VsaAggregateCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves aggregates.Operation may only be performed on working environments whose status is: ON, INITIALIZING, DEGRADED
----
GET /azure/vsa/aggregates/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AggregateResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing aggregate
----
DELETE /azure/vsa/aggregates/{workingEnvironmentId}/{aggregateName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be deleted|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-vsa:discovery
==== Retrieves a list of discovered working environments visible to the current user in the specified Azure region.
----
GET /azure/vsa/discover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Region to discover working environments|true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<DiscoveredAzureVSAResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Saves a previously discovered Cloud Volumes ONTAP working environment to the Cloud Manager database.
----
POST /azure/vsa/recover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<RecoverAzureVSARequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-vsa:metadata
==== Retrieves supported features
----
GET /azure/vsa/metadata/supported-features
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedFeaturesResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the minimum number of required IPs for an Cloud Volumes ONTAP system.
----
GET /azure/vsa/metadata/network-requirements
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureNetworkRequirementsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Network Extended Info.
----
GET /azure/vsa/metadata/vnets
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureNetworkExtendedResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all the Tag names.
----
GET /azure/vsa/metadata/tag-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TagKeyResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates the current user is subscribed to Cloud Volumes ONTAP product in Azure marketplace.
----
POST /azure/vsa/metadata/validate-subscribed-to-ontap-cloud
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Validate subscribed to Cloud Volumes ONTAP request|true|<<AzureValidateSubscribedToOntapCloudRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureValidateSubscribedToOntapCloudResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported Azure storage account types.
----
GET /azure/vsa/metadata/storage-account-types
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureStorageAccountTypeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves packages configuration
----
GET /azure/vsa/metadata/packages
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<PackageInfoResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves associated subscriptions.
----
GET /azure/vsa/metadata/associated-subscriptions
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AssociatedSubscription>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves instance types not supporting acceleration and capacity tiering
----
GET /azure/vsa/metadata/instance-types-not-supporting-acceleration-and-capacity-tiering
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InstanceTypesNotSupportingAccelerationAndCapacityTieringResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Azure regions over which an Cloud Volumes ONTAP working environment may be created.
----
GET /azure/vsa/metadata/regions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureRegionResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all Cloud Volumes ONTAP configurations.
----
GET /azure/vsa/metadata/permutations
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Filter by region|false|string|
|QueryParameter|version|Filter by version|false|string|
|QueryParameter|license|Filter by license|false|string|
|QueryParameter|instance_type|Filter by instance type|false|string|
|QueryParameter|default_instance_type|Filter by default instance type|false|string|
|QueryParameter|feature|Filter by feature|false|string|
|QueryParameter|latest_only|Filter latest only|false|string|
|QueryParameter|marketplace_version|Filter by marketplace version|false|string|
|QueryParameter|marketplace_sku|Filter by marketplace sku|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<Configuration>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves default snapshot policies available on a cluster
----
GET /azure/vsa/metadata/default-snapshot-policies
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotPolicy>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported capacity tiers for Azure disk types.
----
GET /azure/vsa/metadata/supported-capacity-tiers
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedCapacityTiers>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-vsa:volumes
==== Create snapshot manually.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshot
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body|Create snapshot request|true|<<SnapshotCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Move an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/move
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeMoveRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change underlying volume tier.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/change-tier
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<ChangeVolumeTierRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
DELETE /azure/vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
PUT /azure/vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|ref|
|BodyParameter|body|Modify volume request|true|<<VolumeModifyRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Clones an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/clone
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeCloneRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Quotes a new volume. Returns a resource quote needed to satisfy the requested volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/vsa/volumes/quote
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Quote volume request|true|<<VsaVolumeQuoteRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaVolumeQuoteResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return a list of snapshot descriptions for the volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /azure/vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves volumes.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /azure/vsa/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Filter volumes by this working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VolumeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new volume. If the properties aggregateName and maxNumOfDisksApprovedToAdd are not filled in, then the response will fail with a suggested aggregate name and the number of disks that will need to be created in order to fulfill the request.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /azure/vsa/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|createAggregateIfNotFound|On create volume request, allow creating not-found aggregate|false|boolean|
|BodyParameter|body|Create volume request|true|<<VsaVolumeCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Azure-vsa:working-environments
==== Returns true if a resource group with that name already exists, false otherwise
----
GET /azure/vsa/working-environments/resource-group-exists/{resourceGroupName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|resourceGroupName|resource group name|true|string|
|QueryParameter|subscriptionId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|boolean
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Enable capacity tiering
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/enable-capacity-tiering
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Enable capacity tiering request|true|<<EnableCapacityTieringRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Stops a specific Cloud Volumes ONTAP instance
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/stop
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|takeSnapshots|Take snapshots before stopping Cloud Volumes ONTAP|true|boolean|true
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Uploads a Cloud license file on the provided Cloud Volumes ONTAP
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/upload-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Retrieves number of available ip addresses in the Cloud Volumes ONTAP working environment's subnet
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/available-ips-in-subnet
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AvailableIpsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change tier level
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/change-tier-level
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change tier level request|true|<<ChangeTierLevelRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot policy
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/snapshot-policy
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|BodyParameter|body|Create snapshot policy request|true|<<SnapshotPolicyCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the instance type of a specific Cloud Volumes ONTAP
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Instance type modification request|true|<<LicenseAndInstanceTypeModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all license types and their associated instance types for a given Cloud Volumes ONTAP instance
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<LicenseAndInstanceType>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Performs a complete image update operation on the single node of the specified Cloud Volumes ONTAP
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/update-image
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update system image request|true|<<UpdateSystemImageRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the svm name of the Cloud Volumes ONTAP
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/svm
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Svm name modification request|true|<<SvmNameModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Set schedules for Cloud Volumes ONTAP
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Cloud Volumes ONTAP working environment update schedule request|true|<<VsaSchedulesRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== List start-stop schedules for Cloud Volumes ONTAP
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaSchedule>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the writing speed for Cloud Volumes ONTAP
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/writing-speed
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Writing speed request|true|<<WritingSpeedRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Activate offbox configuration
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/offbox
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the net port broadcast domain mtu of the Cloud Volumes ONTAP
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/networkOptimization
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Use optimization|true|<<ChangeNetworkOptimizationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Manually triggers subscription sync for all Cloud Volumes ONTAP working environments
----
POST /azure/vsa/working-environments/sync-subscription
----

===== Consumes

* application/json

===== Produces

* application/json

==== Parses an uploaded Cloud license file
----
POST /azure/vsa/working-environments/parse-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ProvidedLicenseResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Retrieves CIFS Configuration to an existing Cloud Volumes ONTAP working environment
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CIFSConfigurationResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS Configuration to an existing Cloud Volumes ONTAP working environment
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing Cloud Volumes ONTAP working environment, including all Cloud resources created for this working environment (unless the localDelete flag is set to true)
----
DELETE /azure/vsa/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|localDelete|If true, the Cloud Volumes ONTAP instance is not terminated in Cloud, but Cloud Manager no longer manages the working environment.|false|boolean|false
|QueryParameter|forceDelete|If true, the working environment will be deleted even if it is part of one or more SnapMirror relationships.|false|boolean|false
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves an Cloud Volumes ONTAP working environment
----
GET /azure/vsa/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Cloud Volumes ONTAP working environments visible to the currently logged in user
----
GET /azure/vsa/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|QueryParameter|tenantId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new Cloud Volumes ONTAP working environment.
----
POST /azure/vsa/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<CreateAzureVSAWorkingEnvironmentRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AzureVsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates Cloud Manager password of a specific Cloud Volumes ONTAP
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/update-credentials
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update Cloud Manager password request|true|<<UpdateCredentialsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the cluster password of a specific Cloud Volumes ONTAP
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/set-password
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|occmOnly||false|boolean|
|BodyParameter|body|Set password request|true|<<PasswordWrapper>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS using workgroup configuration to an existing Cloud Volumes ONTAP working environment
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/cifs-workgroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSWorkgroupConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Starts a specific Cloud Volumes ONTAP instance
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/start
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the support registration status of an Cloud Volumes ONTAP system
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Registers an Cloud Volumes ONTAP system with NetApp
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Uploads a Cloud license file content on the provided Cloud Volumes ONTAP
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/upload-licenses
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|license file content request|true|<<LicenseFileContent>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves eligibility support status of an Cloud Volumes ONTAP system. Valid values - NSS_NOT_VALID, NOT_REGISTERED, IPA_PROBLEM, VALID, NSS_NOT_EXISTS, LICENSE_EXPIRED
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/update-eligibility
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<EligibilityResponse>>
|400|Working Environment must be ON or UPDATING in order to check eligibility|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves action parameters used in create request of a given Cloud Volumes ONTAP instance
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/create-request-parameters
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CreateRequestParametersResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a list of versions to which this Cloud Volumes ONTAP can be upgraded
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/occm-provided-upgrade-versions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OntapUpdateImageMetadata>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change serial number of Cloud Volumes ONTAP
----
POST /azure/vsa/working-environments/{workingEnvironmentId}/change-serial
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change serial number request|true|<<ChangeSerialNumberRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify user tags for cloud resources of a given Cloud Volumes ONTAP instance
----
PUT /azure/vsa/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Modify user tags request|true|<<ModifyUserTagsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves editable tags for cloud resources of a given Cloud Volumes ONTAP instance
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UserTagsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves images already installed on the Cloud Volumes ONTAP
----
GET /azure/vsa/working-environments/{workingEnvironmentId}/ontap-available-images
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UpdateLocalImage>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Cloud-storage-automation
==== Migrate data into an Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
POST /cloud-storage-automation/migrate-data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Data Migration Request|true|<<DataMigrationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Cloud Storage Automation Report.
----
GET /cloud-storage-automation/report
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|QueryParameter|accountId|Account Id|false|string|
|QueryParameter|region|Region|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CloudStorageAutomationExtendedReport>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates The Cloud Storage Automation Configuration.
----
PUT /cloud-storage-automation/data-collection-configuration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<CloudStorageAutomationConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Delete Unassociated Cloud Provider Volumes.
----
DELETE /cloud-storage-automation/unassociated-volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Delete unassociated volumes request|true|<<DeleteUnassociatedVolumesRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieve Unassociated Cloud Provider Volumes.
----
GET /cloud-storage-automation/unassociated-volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|accountId|Account Id|false|string|
|QueryParameter|region|Region|false|string|
|QueryParameter|startIndex|Offset|false|integer (int32)|
|QueryParameter|maxItems|Max items to retrieve|false|integer (int32)|
|QueryParameter|volumeTypeFilter|Filter by the volume types in the list separated by comma delimiter|false|enum (gp2,  standard,  sc1,  st1,  io1”)|
|QueryParameter|deletingStatusFilter|Filter results by deleting-status in the list separated by comma delimiter|false|enum (deleting,  failed,  failed-no-retry,  associated,  none)|
|QueryParameter|searchTextFilter|Search for the string in volumeId/tag key/tag value|false|string|
|QueryParameter|orderByField|Order by specific field name|false|enum (creationTime,  allocatedCapacityGB)|
|QueryParameter|orderByDirection|Order by direction|false|enum (ascending,  descending)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UnassociatedVolumesReport>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Collects Cloud Storage Data.
----
POST /cloud-storage-automation/collect-data
----

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Data Collection Processing Information.
----
GET /cloud-storage-automation/data-collection-information
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<DataCollectionInformation>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Delete Unassociated Cloud Provider Snapshots.
----
DELETE /cloud-storage-automation/unassociated-snapshots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Delete unassociated snapshots request|true|<<DeleteUnassociatedSnapshotsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieve Unassociated Cloud Provider Snapshots.
----
GET /cloud-storage-automation/unassociated-snapshots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|accountId|Account Id|false|string|
|QueryParameter|region|Region|false|string|
|QueryParameter|startIndex|Offset|false|integer (int32)|
|QueryParameter|maxItems|Max items to retrieve|false|integer (int32)|
|QueryParameter|deletingStatusFilter|Filter results by deleting-status in the list separated by comma delimiter|false|enum (deleting,  failed,  failed-no-retry,  associated,  none)|
|QueryParameter|searchTextFilter|Search for the string in snapshotId/volumeId/description/tag-key/tag-value|false|string|
|QueryParameter|orderByField|Order by specific field name|false|enum (timestamp,  allocatedCapacityGB)|
|QueryParameter|orderByDirection|Order by direction|false|enum (ascending,  descending)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UnassociatedSnapshotsReport>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Cancels Data Collection Process.
----
POST /cloud-storage-automation/cancel-data-collection-processing
----

===== Consumes

* application/json

===== Produces

* application/json

=== Cloud-volumes
==== Create virtual network.
----
POST /cloud-volumes/virtual-network
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create virtual network request|true|<<CreateVirtualNetworkRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CreateVirtualNetworkResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Cloudsync
==== Retrieve all S3 buckets.
----
GET /cloudsync/buckets
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|userId|User ID of the working environment creator|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<S3BucketInfo>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieve all S3 buckets in working environment's account.
----
GET /cloudsync/buckets/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<S3BucketInfo>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS user Key Pairs for working environment's account and region.
----
GET /cloudsync/key-pairs-by-vsa/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|string array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Delete sync of VSA working environment to Cloud Sync service.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
DELETE /cloudsync/sync/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create sync of VSA working environment with Cloud Sync service.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /cloudsync/sync/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|BodyParameter|body|Create sync request|true|<<CreateSyncRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Delete sync of OnPrem working environment to Cloud Sync service.Operation may only be performed on working environments whose status is: ON
----
DELETE /cloudsync/sync/onprem/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of OnPrem working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create sync of OnPrem working environment with Cloud Sync service.Operation may only be performed on working environments whose status is: ON
----
POST /cloudsync/sync/onprem/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of OnPrem working environment|true|string|
|BodyParameter|body|Create sync request|true|<<CreateSyncRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== List S3 bucket's sub directories.
----
GET /cloudsync/buckets/{bucketName}/sub-directories
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|userId|User ID of the working environment creator|true|string|
|QueryParameter|fullPath|Full path to list sub directories|false|string|
|PathParameter|bucketName|Bucket name to get sub directories from|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<BucketInformation>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Delete Cloud Sync relationship from an OnPrem volume.Operation may only be performed on working environments whose status is: ON
----
DELETE /cloudsync/relationship/onprem/{workingEnvironmentId}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of OnPrem working environment|true|string|
|PathParameter|volumeName||true|ref|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Add Cloud Sync relationship to an OnPrem volume.Operation may only be performed on working environments whose status is: ON
----
POST /cloudsync/relationship/onprem/{workingEnvironmentId}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of OnPrem working environment|true|string|
|PathParameter|volumeName||true|ref|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Delete Cloud Sync relationship from a VSA volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
DELETE /cloudsync/relationship/{workingEnvironmentId}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|PathParameter|volumeName||true|ref|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Add Cloud Sync relationship to a VSA volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /cloudsync/relationship/{workingEnvironmentId}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|PathParameter|volumeName||true|ref|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Get Cloud Sync Service url, according to the current environment.
----
GET /cloudsync/service-url
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ServiceUrl>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves VPCs for working environment's account and region.
----
GET /cloudsync/vpcs-by-vsa/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VpcExtendedResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== List S3 bucket's sub directories in working environment's account.
----
GET /cloudsync/buckets/{bucketName}/sub-directories/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of VSA working environment|true|string|
|QueryParameter|fullPath|Full path to list sub directories|false|string|
|PathParameter|bucketName|Bucket name to get sub directories from|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<BucketInformation>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Costs
==== Retrieves AWS cost information for a specific working environment.
----
GET /costs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Filter cost information for specified working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<WorkingEnvironmentCostResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Triggers an update of cost information.
----
POST /costs/process
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Public id of the user whose cost information is to be updated|true|<<UserPublicIdWrapper>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|403|The current user does not have permissions to perform this operation for the given user|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Kubernetes
==== Connect ONTAP Cloud Working Environment to Kubernetes.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /k8s/connect/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Connect Kubernetes by working environment public ID|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Remove Kubernetes configuration.
----
DELETE /k8s/remove-setup-configuration
----

===== Consumes

* application/json

===== Produces

* application/json

==== Disconnect ONTAP Cloud Working Environment from Kubernetes.
----
DELETE /k8s/disconnect/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Disonnect Kubernetes by working environment public ID|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Kubernetes Setup - Uploads Kubernetes configuration file in YAML format, it should be provided in multipart/form-data, with the file at a part named 'config'..
----
POST /k8s/setup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename||false|string|
|BodyParameter|config|config|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<K8sStatusResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Retrieve Kubernetes status.
----
GET /k8s/status
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<K8sStatusResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:asup
==== Sends Cloud Manager support data to NetApp Support.
----
POST /occm/asup/send
----

===== Produces

* application/json

==== Sends Cloud Volumes ONTAP performance archive support data to NetApp Support.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /occm/asup/send-Cot-performance-Asup/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Produces

* application/json

==== Downloads a compressed file of all ASUP files from all VSAs.
----
GET /occm/asup/download-ontap-cloud-asups
----

===== Produces

* application/json

==== Updates the AutoSupport configuration.
----
PUT /occm/asup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<AsupConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the AutoSupport configuration.
----
GET /occm/asup
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AsupConfiguration>>
|===

===== Produces

* application/json

==== Downloads Cloud Manager support data.
----
GET /occm/asup/download
----

===== Produces

* application/json

==== Sends Cloud Volumes ONTAP support data to NetApp Support.
----
POST /occm/asup/send-Cot-Asup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sendToOccm|Send Asup to OCCM|true|boolean|false
|===

===== Produces

* application/json

=== Occm:config
==== Configures modifiable Cloud Manager parameters.
----
PUT /occm/config
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<ConfigValuesUpdateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ConfigValuesResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Cloud Manager configuration parameters.
----
GET /occm/config
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ConfigValuesResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Resets to the default simplicator URI. Internal use only.
----
POST /occm/config/simplicator/reset
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ConfigResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the current simplicator URI and status. Internal use only.
----
GET /occm/config/simplicator
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ConfigResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:encryption:certificate
==== Retrieves the installed certificate, if one exists.
----
GET /occm/encryption/certificate
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates and installs the provided certificate. Successive calls will overwrite any previously installed certificate. The certificate must match a previously generated CSR.
----
POST /occm/encryption/certificate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|The certificate generated for Cloud Manager|true|<<InstallCertificatesRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:encryption:csr
==== Retrieves the most recently generated CSR, if any exists.
----
GET /occm/encryption/csr
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CsrResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Generates, stores and returns a certificate signing request (CSR). This CSR can be signed by a CA and then installed in Cloud Manager using /install_certificate. Successive calls will not overwrite previously generated CSRs.
----
POST /occm/encryption/csr
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CsrResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:encryption:key-managers
==== Retrieves all key managers.
----
GET /occm/encryption/key-managers
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<KeyManagerResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds a new key manager.
----
POST /occm/encryption/key-managers
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create key manager request parameters|true|<<KeyManagerRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<KeyManagerResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing key manager.
----
DELETE /occm/encryption/key-managers/{keyManagerId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|keyManagerId|Public Id of the key manager to be deleted|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|404|Key manager with the given id does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates an existing key manager.
----
PUT /occm/encryption/key-managers/{keyManagerId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Update key manager request parameters|true|<<KeyManagerRequest>>|
|PathParameter|keyManagerId|Public Id of the key manager to be updated|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<KeyManagerResponse>>
|404|Key manager with the given id does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Returns specific key manager by public Id.
----
GET /occm/encryption/key-managers/{keyManagerId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|keyManagerId|Public Id of the key manager|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<KeyManagerResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:encryption:key-managers-ca-certificates
==== Retrieves all key managers CA certificates.
----
GET /occm/encryption/key-managers-ca-certificates
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds a new key manager CA certificate.
----
POST /occm/encryption/key-managers-ca-certificates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Saves a key manager ca certificate request parameters|true|<<KeyManagerCaCertificateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing key manager CA certificate.
----
DELETE /occm/encryption/key-managers-ca-certificates/{keyManagerCaCertificateId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|keyManagerCaCertificateId|Public Id of the key manager ca certificate to be deleted|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|404|Key manager ca certificate with the given ID does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a specific key manager CA certificate.
----
GET /occm/encryption/key-managers-ca-certificates/{keyManagerCaCertificateId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|keyManagerCaCertificateId|Public Id of the key manager ca certificate|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:key-store
==== Validates and installs the provided root CA chain. Successive calls will overwrite any previously installed root CA chain.
----
POST /occm/key-store/signed-certificate-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename|Certificate file name|false|string|
|BodyParameter|certificate|The CA signed certificate|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Generate new key pair and self certificate at key store and return a certificate signing request (CSR). This CSR can be signed by a CA.
----
POST /occm/key-store/external-certificate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|The CA signed certificate and an associated private key|true|<<InstallCertificatesAndPrivateKeyRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return existing trusted certificates added by the user from trust store.
----
GET /occm/key-store/user-trusted-certificates
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TrustedCertificateResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Generate new key pair and self certificate at key store and return a certificate signing request (CSR). This CSR can be signed by a CA.
----
POST /occm/key-store/external-certificate-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|certificateFilename|Certificate file name|false|string|
|HeaderParameter|privateKeyFilename|Private key file name|false|string|
|BodyParameter|certificate|The CA signed certificate|false|string|
|BodyParameter|privateKey|The private key associated with the CA signed certificate|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Retrieve the self certificate of Cloud Manager key store, if one exists.
----
GET /occm/key-store/self-certificate
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Generate new key pair and self certificate at key store and return a certificate signing request (CSR). This CSR can be signed by a CA.
----
POST /occm/key-store
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<CertificateSigningRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CsrResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieve the CA signed certificate of Cloud Manager key store, if one exists.
----
GET /occm/key-store/signed-certificate
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates and installs the provided root CA chain. Successive calls will overwrite any previously installed root CA chain.
----
POST /occm/key-store/signed-certificate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|The CA signed certificate|true|<<InstallCertificatesRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates and installs the provided certificate in trust store.
----
POST /occm/key-store/trusted-certificate-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename|Trusted certificate file name|false|string|
|BodyParameter|certificate|certificate|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TrustedCertificateResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Delete existing trusted certificate from trust store.
----
DELETE /occm/key-store/trusted-certificate/{certificateId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|certificateId|The trusted certificate's ID|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:setup
==== Validates the given tenant as part of the Setup Wizard.
----
POST /occm/setup/validate/tenant
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Tenant Setup data|true|<<AddTenantRequest>>|
|HeaderParameter|Setup-Proxy||false|string|
|HeaderParameter|Setup-Proxy-User||false|string|
|HeaderParameter|Setup-Proxy-Password||false|string|
|HeaderParameter|Setup-Proxy-Domain||false|string|
|HeaderParameter|Setup-Company||false|string|
|HeaderParameter|Setup-Site||false|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates a given proxy URL.
----
POST /occm/setup/validate/proxy
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Proxy Url|true|<<ProxyUri>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Performs volume view initial setup.
----
POST /occm/setup/volume-view-init
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Setup data|true|<<VolumeViewSetupRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<InitialSetupResponse>>
|400|If setup already performed|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Performs initial setup.
----
POST /occm/setup/init
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Setup data|true|<<SetupRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<InitialSetupResponse>>
|400|If setup already performed|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates that Cloud Manager has an active Internet connection
----
POST /occm/setup/validate/connectivity
----

===== Consumes

* application/json

===== Produces

* application/json

==== Validates the given user as part of the Setup Wizard.
----
POST /occm/setup/validate/user
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|User Setup data|true|<<UserRequest>>|
|HeaderParameter|Setup-Proxy||false|string|
|HeaderParameter|Setup-Proxy-User||false|string|
|HeaderParameter|Setup-Proxy-Password||false|string|
|HeaderParameter|Setup-Proxy-Domain||false|string|
|HeaderParameter|Setup-Company||false|string|
|HeaderParameter|Setup-Site||false|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:setup-portal
==== Complete setup which was pending connectivity.
----
POST /occm/setup-portal/complete-connectivity-pending-setup
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InitialSetupResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Performs initial setup with NetApp Cloud Central.
----
POST /occm/setup-portal/init
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|Authorization||false|string|
|BodyParameter|body|Setup data|true|<<PortalSetupRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<InitialSetupResponse>>
|400|If setup already performed|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates that Cloud Manager has an active Internet connection
----
POST /occm/setup-portal/validate/connectivity
----

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a given proxy URL.
----
POST /occm/setup-portal/proxy/setup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Proxy Url|true|<<SetProxyRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Register Cloud Manager to NetApp Cloud Central.
----
POST /occm/setup-portal/register
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<RegistrationResponse>>
|412|Cloud Manager is not configured with NetApp Cloud Central|No Content
|404|Failed Communicating with NetApp Cloud Central|No Content
|409|Cloud Manager is already registered to NetApp Cloud Central|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Occm:system
==== Performs a restore of Cloud Manager data from a provided backup file. Backup should be provided in multipart/form-data, with the file at a part named 'backup'. Note - This operation can not be performed via swagger.
----
POST /occm/system/restore
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename||false|string|
|BodyParameter|backup|backup|false|string|
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Retrieves Feature Flags.
----
GET /occm/system/feature-flags
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<FeatureFlag>>
|===

===== Produces

* application/json

==== Manually activate PAYGO working environments registration.
----
POST /occm/system/manually-activate-register-existing-paygos
----

===== Produces

* application/json

==== Updates Cloud Manager with the given patch. Backup should be provided in multipart/form-data, with the file at a part named 'patch'.
----
POST /occm/system/patch
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename||false|string|
|BodyParameter|patch|patch|false|string|
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Retrieves Cloud Manager support services information.
----
GET /occm/system/support-services
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportServices>>
|===

===== Produces

* application/json

==== Manually activate Cloud Volumes ONTAP capacity automatic management cycle.
----
POST /occm/system/manually-activate-auto-vsa-capacity-management-cycle
----

===== Produces

* application/json

==== Performs fetch and cache of Cloud Volumes ONTAP and Cloud Manager version information files from s3.
----
POST /occm/system/cloud-ontap-update-metadata
----

===== Produces

* application/json

==== Retrieves Cloud Manager server information.
----
GET /occm/system/about
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<About>>
|===

===== Produces

* application/json

==== Retrieves Cloud Manager feedback configuration.
----
GET /occm/system/external-config
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OccmExternalConfiguration>>
|===

===== Produces

* application/json

==== Checks for a new version of Cloud Manager.
----
GET /occm/system/available-update-versions
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UpdateInfo>> array
|===

===== Produces

* application/json

==== Retrieves the AWS region, VPC, and subnet in which the Cloud Manager instance is running, in case it is running in AWS.
----
GET /occm/system/occm-instance-placement
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InstancePlacementResponse>>
|===

===== Produces

* application/json

==== Performs fetch and processing of Cloud Volumes ONTAP image update metadata files.
----
POST /occm/system/cloud-ontap-update-image-metadata
----

===== Produces

* application/json

==== Updates Cloud Manager to the given version.
----
POST /occm/system/update
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<VersionWrapper>>|
|===

===== Produces

* application/json

==== Manually activate status reports sending.
----
POST /occm/system/manually-activate-send-status-reports
----

===== Produces

* application/json

==== Restart server.
----
POST /occm/system/restart-server
----

===== Produces

* application/json

==== Performs a backup of Cloud Manager data. Data is returned as an application/octet-stream with Content-Disposition attachment;filename={fileName}.
----
GET /occm/system/backup
----

===== Produces

* application/octet-stream

==== Retrieves cloud providers supported regions.
----
GET /occm/system/cloud-provider-regions
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ProviderSupportedRegions>>
|===

===== Produces

* application/json

=== Onprem:aggregates
==== Retrieves aggregates.
----
GET /onprem/aggregates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Filter aggregates by this working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OnPremAggregateResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Onprem:metadata
==== Verifies the address and credentials of the given cluster by retrieving the cluster info.
----
GET /onprem/metadata/cluster-info
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|clusterAddress|Cluster address|true|string|
|HeaderParameter|clusterUsername|Cluster username|true|string|
|HeaderParameter|clusterPassword|Cluster password|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ClusterInfo>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Onprem:volumes
==== Deletes an existing volume.Operation may only be performed on working environments whose status is: ON
----
DELETE /onprem/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|svmName|SVM name|true|string|
|PathParameter|volumeName|Name of volume to be deleted|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify an existing volume.Operation may only be performed on working environments whose status is: ON
----
PUT /onprem/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|svmName|SVM name|true|string|
|PathParameter|volumeName|Name of volume to be modified|true|ref|
|BodyParameter|body|Modify volume request|true|<<OnPremVolumeModifyRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves volumes.Operation may only be performed on working environments whose status is: ON
----
GET /onprem/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Filter volumes by this working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VolumeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new volume.Operation may only be performed on working environments whose status is: ON
----
POST /onprem/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create volume request|true|<<OnPremVolumeCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Clones an existing volume.Operation may only be performed on working environments whose status is: ON
----
POST /onprem/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/clone
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|svmName|SVM name|true|string|
|PathParameter|volumeName|Name of volume to be cloned|true|string|
|BodyParameter|body|Clone volume request|true|<<VolumeCloneRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return a list of snapshot descriptions for the volume.Operation may only be performed on working environments whose status is: ON
----
GET /onprem/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|svmName|SVM name|true|string|
|PathParameter|volumeName|Filter snapshot descriptions for specified volume|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot manually.Operation may only be performed on working environments whose status is: ON
----
POST /onprem/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshot
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body|Create snapshot request|true|<<SnapshotCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Onprem:working-environments
==== Cloud Manager will no longer manage this working environment, but will not affect the Data ONTAP itself.
----
DELETE /onprem/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves an on-premises ONTAP working environment.
----
GET /onprem/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OnPremWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves CIFS Configuration to an existing Cloud Volumes ONTAP working environment.Operation may only be performed on working environments whose status is: ON
----
GET /onprem/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|vserver|Vserver name|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CIFSConfigurationResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates Cloud Manager password for an On Premises working environment.
----
PUT /onprem/working-environments/{workingEnvironmentId}/update-credentials
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update Cloud Manager password request|true|<<UpdateCredentialsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves on-premises working environments visible to the currently logged in user.
----
GET /onprem/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|QueryParameter|tenantId|Public Id of tenant|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OnPremWorkingEnvironmentResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Discovers on-premises working environment in Cloud Manager.
----
POST /onprem/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<OnPremWorkingEnvironmentDiscoverRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OnPremWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Replication
==== Retrieves replication schedules of a specific working environment.
----
GET /replication/schedules/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of destination working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ReplicationSchedule>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Breaks a SnapMirror replication relationship.
----
POST /replication/break/{destinationWorkingEnvironmentId}/{destinationSvmName}/{destinationVolumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|destinationWorkingEnvironmentId|Public Id of destination working environment|true|string|
|PathParameter|destinationSvmName|Destination SVM name|true|string|
|PathParameter|destinationVolumeName|Destination volume name|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Initializes an existing SnapMirror relationship. This method can only be performed in case the relationship has already been established and is healthy, yet is idle and uninitialized. For example, if the initial transfer were interrupted, then it can be restarted with this request.
----
POST /replication/initialize/{destinationWorkingEnvironmentId}/{destinationSvmName}/{destinationVolumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|destinationWorkingEnvironmentId|Public Id of the working environment with which the SnapMirror relationship has already been established|true|string|
|PathParameter|destinationSvmName|Destination SVM name|true|string|
|PathParameter|destinationVolumeName|Destination volume name|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the intercluster LIFs used in a cluster peering relationship.
----
GET /replication/intercluster-lifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|peerWorkingEnvironmentId|Public Id of peer working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ReplicationInterClusterLifs>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates the destination endpoint of the SnapMirror relationship.
----
POST /replication/update/{destinationWorkingEnvironmentId}/{destinationSvmName}/{destinationVolumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|destinationWorkingEnvironmentId|Public Id of destination working environment|true|string|
|PathParameter|destinationSvmName|Destination SVM name|true|string|
|PathParameter|destinationVolumeName|Destination volume name|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Resyncs a SnapMirror replication relationship.
----
POST /replication/resync/{destinationWorkingEnvironmentId}/{destinationSvmName}/{destinationVolumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|destinationWorkingEnvironmentId|Public Id of destination working environment|true|string|
|PathParameter|destinationSvmName|Destination SVM name|true|string|
|PathParameter|destinationVolumeName|Destination volume name|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new replication to an Cloud Volumes ONTAP working environment.
----
POST /replication/vsa
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<CreateReplicationRequestToVsa>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Reversing an existing SnapMirror relationship. This method can only be performed in case the relationship has already been established and is healthy and idle.
----
POST /replication/reverse/{destinationWorkingEnvironmentId}/{destinationSvmName}/{destinationVolumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|destinationWorkingEnvironmentId|Public Id of the working environment with which the SnapMirror relationship has already been established|true|string|
|PathParameter|destinationSvmName|Destination SVM name|true|string|
|PathParameter|destinationVolumeName|Destination volume name|true|string|
|BodyParameter|body||false|<<SourceSnapmirrorEndpoint>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new replication to an on-premises working environment.
----
POST /replication/onprem
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<CreateReplicationRequestToOnPrem>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the status of all SnapMirror relationships.
----
GET /replication/status
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|tenantId|Public Id of tenant|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ReplicationStatusResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Removes a replication relationship.
----
DELETE /replication/{destinationWorkingEnvironmentId}/{destinationSvmName}/{destinationVolumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|destinationWorkingEnvironmentId|Public Id of destination working environment|true|string|
|PathParameter|destinationSvmName|Destination SVM name|true|string|
|PathParameter|destinationVolumeName|Destination volume name|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves SnapMirror replication relationship statuses of a specific working environment.
----
GET /replication/status/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ReplicationStatusResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates a SnapMirror replication relationship.
----
PUT /replication/{workingEnvironmentId}/{destinationSvmName}/{destinationVolumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Replication update request|true|<<ReplicationUpdateRequest>>|
|PathParameter|destinationSvmName|Destination SVM name|true|string|
|PathParameter|destinationVolumeName|Destination volume name|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Replication:metadata
==== return list of snapshot labels from the volume matching lables in the passed list.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /replication/metadata/snapshot-labels/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|svmName|SVM name|true|string|
|PathParameter|volumeName|Volume name|true|string|
|QueryParameter|labels||false|csv string array|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|string array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== retrieves SnapMirror policies based on source and destination Cloud Volumes ONTAP.
----
GET /replication/metadata/snapmirror-policies/{sourceWorkingEnvironmentId}/{targetWorkingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|sourceWorkingEnvironmentId|Public Id of source working environment|true|string|
|PathParameter|targetWorkingEnvironmentId|Public Id of destination working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapMirrorPolicyResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Tenants
==== Validates existing tenant.
----
POST /tenants/{tenantId}/validate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tenantId|Public Id of tenant|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ValidateTenant>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Links an existing tenant to a NetApp Support Site account.
----
PUT /tenants/{tenantId}/nss-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tenantId|Public Id of the tenant to be updated|true|string|
|BodyParameter|body||true|<<SetNssKeysRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TenantResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves tenants that are visible to the currently logged in user.
----
GET /tenants
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TenantResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new tenant.
----
POST /tenants
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||true|<<AddTenantRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TenantResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing tenant. It is not possible to delete a tenant over which working environments exist.
----
DELETE /tenants/{tenantId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tenantId|Public Id of the tenant to be deleted|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates an existing tenant.
----
PUT /tenants/{tenantId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tenantId|Public Id of tenant|true|string|
|BodyParameter|body|Tenant update request|true|<<UpdateTenantRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TenantResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a tenant.
----
GET /tenants/{tenantId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|PathParameter|tenantId|Public Id of tenant|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TenantResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== User-mng:auth
==== Changes Azure credentials of the currently logged in user.
----
PUT /auth/current-user/azure-credentials
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Change current user credentials request parameters|true|<<ChangeAzureKeysRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|401|No user is currently logged in|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Log in to Cloud Manager.
----
POST /auth/login
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<UserPasswordRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|401|Incorrect email/password combination|No Content
|408|Failed Communicating with Active Directory|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves representation of currently logged in user.
----
GET /auth/current-user
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|401|No user is currently logged in|No Content
|403|No connectivity - SSL Exception|No Content
|409|Setup halted. Internet connectivity required to complete|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Changes AWS access keys of the currently logged in user.
----
PUT /auth/current-user/aws-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Change current user keys request parameters|true|<<ChangeKeysRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|401|No user is currently logged in|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Log out of Cloud Manager.
----
POST /auth/logout
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|401|No user is currently logged in|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Changes the password of the currently logged in user.
----
PUT /auth/current-user/change-password
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Change current user password request parameters|true|<<ResetPassword>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|401|No user is currently logged in|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== User-mng:roles
==== Retrieves a specific role.
----
GET /roles/{roleId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|roleId|Role public Id|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<Role>>
|404|Role with the given public ID does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all roles.
----
GET /roles
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<Role>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== User-mng:users
==== Resets the password of the given user.
----
PUT /users/{userId}/reset-password
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|Public Id of the user whose password is to be reset|true|string|
|BodyParameter|body|Reset password request|true|<<ResetUserPasswordRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|403|The current user does not have permissions to perform this operation for the given user|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all users visible to the current user.
----
GET /users
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UserResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new user.
----
POST /users
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||true|<<UserRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|404|Either the provided tenant or role assigned to the new user does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Changes the S3 cost bucket assigned to this user account.
----
PUT /users/{userId}/aws-bucket
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|Public Id of the user whose S3 cost bucket you want to change|true|string|
|BodyParameter|body|Change keys request|true|<<BucketNameRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|403|The current user does not have permissions to perform this operation for the given user|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Changes Azure user's credentials.
----
PUT /users/{userId}/azure-credentials
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|Public Id of the user whose credentials are to be changed|true|string|
|BodyParameter|body|Change credentials request|true|<<ChangeAzureKeysRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|403|The current user does not have permissions to perform this operation for the given user|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Add existing NetApp Cloud Central user to Cloud Manager.
----
POST /users/add-user
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||true|<<AddPortalUserRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|404|Either the provided tenant or role assigned to the new user does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing user. It is not possible to delete a user that has created existing working environments. It is not possible to delete the logged in user.
----
DELETE /users/{userId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|Public Id of the user to be deleted|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|404|User with the given user id does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates an existing user.
----
PUT /users/{userId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<UpdateUserRequest>>|
|PathParameter|userId|Public Id of user|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|404|User with the given user id does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a specific user.
----
GET /users/{userId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|Public Id of user|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UserResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Remove user from Cloud Manager.
----
DELETE /users/{userId}/remove-user
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|Public Id of user|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Grants or revokes permissions to the given user for performing operations over the given working environments.
----
POST /users/{userId}/working-environments-grant-revoke
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<GrantPermission>>|
|PathParameter|userId|Public Id of the user whose permissions are to be changed|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|404|User with the given user id does not exist|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Changes the AWS access key and secret key of the user.
----
PUT /users/{userId}/aws-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|Public Id of the user whose keys are to be changed|true|string|
|BodyParameter|body|Change keys request|true|<<ChangeKeysRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<UserResponse>>
|403|The current user does not have permissions to perform this operation for the given user|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Volume-view:general
==== Return actions required.
----
GET /managed/aws/vsa/volumes/actions-required
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ActionRequiredResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Set Cloud Volumes ONTAP password.
----
PUT /managed/aws/vsa/volumes/ontap-cloud-password
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||true|<<OntapCloudPasswordRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return true if Cloud Volumes ONTAP password exists.
----
GET /managed/aws/vsa/volumes/ontap-cloud-password
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OntapCloudPasswordExists>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Set Volume View AWS tags.
----
PUT /managed/aws/vsa/volumes/aws-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||true|<<AddTagsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS tags set for Volume View.
----
GET /managed/aws/vsa/volumes/aws-tags
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsTag>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Register managed volumes to NetApp Support Site.
----
PUT /managed/aws/vsa/volumes/nss-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||true|<<SetNssKeysRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return NSS user name.
----
GET /managed/aws/vsa/volumes/nss-keys
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<NssUserName>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates current user - email and name.
----
PUT /managed/aws/vsa/volumes/update-user
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body||false|<<UpdateUserRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Volume-view:instances
==== Deletes an existing Cloud Volumes ONTAP instance, including all Cloud resources created for this instance.
----
DELETE /managed/aws/vsa/instances/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return instance info.
----
GET /managed/aws/vsa/instances/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ManagedInstanceResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Starts a specific Cloud Volumes ONTAP instance.
----
POST /managed/aws/vsa/instances/{workingEnvironmentId}/start
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the instance type of a specific Cloud Volumes ONTAP.
----
PUT /managed/aws/vsa/instances/{workingEnvironmentId}/instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body||true|<<ChangeInstanceTypeRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Stops a specific Cloud Volumes ONTAP instance.
----
POST /managed/aws/vsa/instances/{workingEnvironmentId}/stop
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all valid instance types for a given Cloud Volumes ONTAP instance.
----
GET /managed/aws/vsa/instances/{workingEnvironmentId}/target-instance-types
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ManagedInstanceTypeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return existing instance IDs.
----
GET /managed/aws/vsa/instances
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ManagedInstanceIdResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Volume-view:volumes
==== Quotes an existing volume.Operation may only be performed on working environments whose status is: ON
----
POST /managed/aws/vsa/volumes/{managedVolumeId}/quote
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|managedVolumeId|Public Id of managed volume|true|string|
|BodyParameter|body|Managed volume change disk type request|true|<<ManagedVolumeQuoteRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<PlacementResult>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing volume.
----
DELETE /managed/aws/vsa/volumes/{managedVolumeId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|managedVolumeId|Public Id of managed volume|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify an existing volume.
----
PUT /managed/aws/vsa/volumes/{managedVolumeId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|managedVolumeId|Public Id of managed volume|true|string|
|BodyParameter|body|Modify volume request|true|<<ManagedVolumeModifyRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves managed volume by id.
----
GET /managed/aws/vsa/volumes/{managedVolumeId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|managedVolumeId|Public Id of managed volume|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ManagedVolume>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Check possible placement for new volume.
----
POST /managed/aws/vsa/volumes/possible-placement
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Managed volume create request|true|<<ManagedVolumeCreateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<PlacementResult>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new highly available volume.
----
POST /managed/aws/vsa/volumes/ha
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create volume request|true|<<ExtendedManagedHaVolumeCreateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ManagedVolume>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all available volumes.
----
GET /managed/aws/vsa/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|volumeName|Volume name to filter|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ManagedVolumesResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new volume.
----
POST /managed/aws/vsa/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create volume request|true|<<ExtendedManagedVolumeCreateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ManagedVolume>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Clones an existing volume.
----
POST /managed/aws/vsa/volumes/{managedVolumeId}/clone
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|managedVolumeId|Public Id of managed volume|true|string|
|BodyParameter|body||true|<<ManagedVolumeCloneRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Check possible placement for new HA volume.
----
POST /managed/aws/vsa/volumes/ha/possible-placement
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Managed HA volume create request|true|<<ManagedHaVolumeCreateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<HaPlacementResult>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change managed volume underlying disk type.Operation may only be performed on working environments whose status is: ON
----
POST /managed/aws/vsa/volumes/{managedVolumeId}/change-disk-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|managedVolumeId|Public Id of managed volume|true|string|
|BodyParameter|body||true|<<ManagedVolumeChangeDiskTypeRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Vsa:aggregates
==== Deletes an existing aggregate
----
DELETE /vsa/aggregates/{workingEnvironmentId}/{aggregateName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be deleted|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves aggregates
----
GET /vsa/aggregates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Public Id of working environment|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AggregateResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new aggregate
----
POST /vsa/aggregates
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Create Aggregate Request|true|<<VsaAggregateCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds disks to an existing aggregate
----
POST /vsa/aggregates/{workingEnvironmentId}/{aggregateName}/disks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|aggregateName|Name of aggregate to be updated|true|string|
|BodyParameter|body|Add disk to aggregate request|true|<<AddDisksToAggregateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Vsa:discovery
==== Saves a previously discovered Cloud Volumes ONTAP working environment to the Cloud Manager database.
----
POST /vsa/recover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<RecoverVsaRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a list of discovered working environments visible to the current user in the specified AWS region.
----
GET /vsa/discover
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Region to discover working environments|true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<DiscoveredVsaResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Vsa:encryption
==== Updates the client certificate on the Cloud Volumes ONTAP system
----
POST /vsa/encryption/{workingEnvironmentId}/update-client-certificate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates the key manager CA certificate on the Cloud Volumes ONTAP system
----
POST /vsa/encryption/{workingEnvironmentId}/update-key-manager-ca-certificate
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update Cloud Volumes ONTAP key manager CA certificate request parameters|true|<<UpdateKeyManagerCaCertificateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CertificateResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes a key manager from the Cloud Volumes ONTAP system
----
DELETE /vsa/encryption/{workingEnvironmentId}/key-managers/{keyManagerIp}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|keyManagerIp|Key manager IP address|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds a key manager to the Cloud Volumes ONTAP system
----
POST /vsa/encryption/{workingEnvironmentId}/key-managers/{keyManagerIp}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|PathParameter|keyManagerIp|Key manager IP address|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Vsa:metadata
==== Retrieves instance types not supporting acceleration and capacity tiering
----
GET /vsa/metadata/instance-types-not-supporting-acceleration-and-capacity-tiering
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InstanceTypesNotSupportingAccelerationAndCapacityTieringResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all Cloud Volumes ONTAP configurations.
----
GET /vsa/metadata/permutations
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region|Filter by region|false|string|
|QueryParameter|version|Filter by version|false|string|
|QueryParameter|license|Filter by license|false|string|
|QueryParameter|instance_type|Filter by instance type|false|string|
|QueryParameter|default_instance_type|Filter by default instance type|false|string|
|QueryParameter|feature|Filter by feature|false|string|
|QueryParameter|latest_only|Filter latest only|false|string|
|QueryParameter|ami|Filter by ami id|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<Configuration>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS user Key Pairs for specific region
----
GET /vsa/metadata/key-pairs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|string array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS encryption keys for specific region
----
GET /vsa/metadata/aws-encryption-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsEncryptionKey>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Validates the current user is subscribed to Cloud Volumes ONTAP product in Amazon marketplace
----
POST /vsa/metadata/validate-subscribed-to-ontap-cloud
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Validate subscribed to Cloud Volumes ONTAP request|true|<<AwsValidateSubscribedToOntapCloudRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsValidateSubscribedToOntapCloudResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS regions over which an Cloud Volumes ONTAP working environment may be created
----
GET /vsa/metadata/regions
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<Region>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the minimum number of required IPs for a single Cloud Volumes ONTAP system, an HA node, and HA mediator
----
GET /vsa/metadata/network-requirements
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<NetworkRequirementsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves additional AWS accounts
----
GET /vsa/metadata/additional-accounts
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsAccountResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Adds an additional AWS account
----
POST /vsa/metadata/additional-accounts
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Add AWS Account Request|true|<<AddAwsAccountRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<AwsAccountResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all Cloud Manager manifests. Refer to the API Developers Guide in order to understand how to extract valid region codes, license types, instance types and Cloud Volumes ONTAP version parameters for the creation of an Cloud Volumes ONTAP working environment.
----
GET /vsa/metadata/manifests
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<MetadataResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves default snapshot policies available on a cluster
----
GET /vsa/metadata/default-snapshot-policies
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotPolicy>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves VPCs
----
GET /vsa/metadata/vpcs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VpcExtendedResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported capacity tiers for EBS volume types
----
GET /vsa/metadata/supported-capacity-tiers
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedCapacityTiers>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported EBS volume types
----
GET /vsa/metadata/ebs-volume-types
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<EbsVolumeType>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS user Key Pairs for all regions
----
GET /vsa/metadata/key-pairs-by-region
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<KeyPairsByRegionResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves packages configuration
----
GET /vsa/metadata/packages
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<PackageInfoResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all the Tag names
----
GET /vsa/metadata/tag-keys
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TagKeyResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves AWS instance profiles
----
GET /vsa/metadata/instance-profiles
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|roleArn||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<InstanceProfileResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves supported features
----
GET /vsa/metadata/supported-features
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|region||true|string|
|QueryParameter|ontapVersion||true|string|
|QueryParameter|dataEncryptionType||true|string|
|QueryParameter|licenseType||true|string|
|QueryParameter|instanceType||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportedFeaturesResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Vsa:volumes
==== Change underlying volume tier.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/change-tier
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<ChangeVolumeTierRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Quotes a new volume. Returns a resource quote needed to satisfy the requested volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/volumes/quote
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Quote volume request|true|<<VsaVolumeQuoteRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaVolumeQuoteResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Move an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/move
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeMoveRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Return a list of snapshot descriptions for the volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SnapshotResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Clones an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/clone
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body||true|<<VolumeCloneRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot manually.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}/snapshot
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|BodyParameter|body|Create snapshot request|true|<<SnapshotCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
DELETE /vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify an existing volume.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
PUT /vsa/volumes/{workingEnvironmentId}/{svmName}/{volumeName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|PathParameter|svmName||true|string|
|PathParameter|volumeName||true|ref|
|BodyParameter|body|Modify volume request|true|<<VolumeModifyRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves volumes.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /vsa/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|workingEnvironmentId|Filter volumes by this working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VolumeResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new volume. If the properties aggregateName and maxNumOfDisksApprovedToAdd are not filled in, then the response will fail with a suggested aggregate name and the number of disks that will need to be created in order to fulfill the request.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/volumes
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|createAggregateIfNotFound|On create volume request, allow creating not-found aggregate|false|boolean|
|BodyParameter|body|Create volume request|true|<<VsaVolumeCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Vsa:working-environments
==== Sets the cluster password of a specific Cloud Volumes ONTAP.
----
PUT /vsa/working-environments/{workingEnvironmentId}/set-password
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|occmOnly||false|boolean|
|BodyParameter|body|Set password request|true|<<PasswordWrapper>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the svm name of the Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
PUT /vsa/working-environments/{workingEnvironmentId}/svm
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Svm name modification request|true|<<SvmNameModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Starts a specific Cloud Volumes ONTAP instance.Operation may only be performed on working environments whose status is: OFF
----
POST /vsa/working-environments/{workingEnvironmentId}/start
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves Cloud Volumes ONTAP working environments visible to the currently logged in user.
----
GET /vsa/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|QueryParameter|tenantId||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaWorkingEnvironmentResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Creates a new Cloud Volumes ONTAP working environment. Refer to the API Developers Guide in order to understand how to fill in the values for region, licenseType, instanceType and version.
----
POST /vsa/working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|body|Working environment|true|<<CreateVSAWorkingEnvironmentRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Set schedules for Cloud Volumes ONTAP.
----
PUT /vsa/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Cloud Volumes ONTAP working environment update schedule request|true|<<VsaSchedulesRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== List start-stop schedules for Cloud Volumes ONTAP.
----
GET /vsa/working-environments/{workingEnvironmentId}/schedules
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaSchedule>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Sets the writing speed for Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
PUT /vsa/working-environments/{workingEnvironmentId}/writing-speed
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Writing speed request|true|<<WritingSpeedRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Updates Cloud Manager password of a specific Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
PUT /vsa/working-environments/{workingEnvironmentId}/update-credentials
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update Cloud Manager password request|true|<<UpdateCredentialsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Enable capacity tiering.Operation may only be performed on working environments whose status is: ON
----
POST /vsa/working-environments/{workingEnvironmentId}/enable-capacity-tiering
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Enable capacity tiering request|true|<<EnableCapacityTieringRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change serial number of Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
POST /vsa/working-environments/{workingEnvironmentId}/change-serial
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change serial number request|true|<<ChangeSerialNumberRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves action parameters used in create request of a given Cloud Volumes ONTAP instance.
----
GET /vsa/working-environments/{workingEnvironmentId}/create-request-parameters
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CreateRequestParametersResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Stops a specific Cloud Volumes ONTAP instance.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/working-environments/{workingEnvironmentId}/stop
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|takeSnapshots|Take snapshots before stopping Cloud Volumes ONTAP|true|boolean|true
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves CIFS Configuration to an existing Cloud Volumes ONTAP working environment.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /vsa/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<CIFSConfigurationResponse>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS Configuration to an existing Cloud Volumes ONTAP working environment.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/working-environments/{workingEnvironmentId}/cifs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves eligibility support status of an Cloud Volumes ONTAP system. Valid values - NSS_NOT_VALID, NOT_REGISTERED, IPA_PROBLEM, VALID, NSS_NOT_EXISTS, LICENSE_EXPIRED.Operation may only be performed on working environments whose status is: ON, UPDATING
----
GET /vsa/working-environments/{workingEnvironmentId}/update-eligibility
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|success|<<EligibilityResponse>>
|400|Working Environment must be ON or UPDATING in order to check eligibility|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Performs a complete image update operation on the single node of the specified Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
POST /vsa/working-environments/{workingEnvironmentId}/update-image
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Update system image request|true|<<UpdateSystemImageRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify the net port broadcast domain mtu of the Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
PUT /vsa/working-environments/{workingEnvironmentId}/networkOptimization
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Use optimization|true|<<ChangeNetworkOptimizationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Change tier level.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/working-environments/{workingEnvironmentId}/change-tier-level
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Change tier level request|true|<<ChangeTierLevelRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Modify user tags for cloud resources of a given Cloud Volumes ONTAP instance.Operation may only be performed on working environments whose status is: ON, DEGRADED, OFF
----
PUT /vsa/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Modify user tags request|true|<<ModifyUserTagsRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves editable tags for cloud resources of a given Cloud Volumes ONTAP instance.Operation may only be performed on working environments whose status is: ON, DEGRADED, OFF
----
GET /vsa/working-environments/{workingEnvironmentId}/user-tags
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UserTagsResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Setup a new CIFS using workgroup configuration to an existing Cloud Volumes ONTAP working environment.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/working-environments/{workingEnvironmentId}/cifs-workgroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|CIFS Configuration request|true|<<CIFSWorkgroupConfigurationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Activate offbox configuration.Operation may only be performed on working environments whose status is: ON
----
PUT /vsa/working-environments/{workingEnvironmentId}/offbox
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Create snapshot policy.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
POST /vsa/working-environments/{workingEnvironmentId}/snapshot-policy
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId||true|string|
|BodyParameter|body|Create snapshot policy request|true|<<SnapshotPolicyCreateRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Parses an uploaded Cloud license file.
----
POST /vsa/working-environments/parse-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<ProvidedLicenseResponse>>
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Uploads a Cloud license file on the provided Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
POST /vsa/working-environments/{workingEnvironmentId}/upload-license-file
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|HeaderParameter|filename|Cloud license file name|false|string|
|BodyParameter|license|license|false|string|
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Sets the instance type of a specific Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON, OFF
----
PUT /vsa/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|Instance type modification request|true|<<LicenseAndInstanceTypeModificationRequest>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves all license types and their associated instance types for a given Cloud Volumes ONTAP instance.
----
GET /vsa/working-environments/{workingEnvironmentId}/license-instance-type
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<LicenseAndInstanceType>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves a list of versions to which this Cloud Volumes ONTAP can be upgraded.Operation may only be performed on working environments whose status is: ON
----
GET /vsa/working-environments/{workingEnvironmentId}/occm-provided-upgrade-versions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<OntapUpdateImageMetadata>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves images already installed on the Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON, DEGRADED
----
GET /vsa/working-environments/{workingEnvironmentId}/ontap-available-images
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<UpdateLocalImage>> array
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Manually triggers subscription sync for all Cloud Volumes ONTAP working environments.Operation may only be performed on working environments whose status is: ON
----
POST /vsa/working-environments/sync-subscription
----

===== Consumes

* application/json

===== Produces

* application/json

==== Deletes an existing Cloud Volumes ONTAP working environment, including all Cloud resources created for this working environment (unless the localDelete flag is set to true).
----
DELETE /vsa/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|QueryParameter|localDelete|If true, the Cloud Volumes ONTAP instance is not terminated in Cloud, but Cloud Manager no longer manages the working environment.|false|boolean|false
|QueryParameter|forceDelete|If true, the working environment will be deleted even if it is part of one or more SnapMirror relationships.|false|boolean|false
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves an Cloud Volumes ONTAP working environment.
----
GET /vsa/working-environments/{workingEnvironmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|fields||false|string|
|PathParameter|workingEnvironmentId||true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<VsaWorkingEnvironmentResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Uploads a Cloud license file content on the provided Cloud Volumes ONTAP.Operation may only be performed on working environments whose status is: ON
----
POST /vsa/working-environments/{workingEnvironmentId}/upload-licenses
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|BodyParameter|body|license file content request|true|<<LicenseFileContent>>|
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Retrieves the support registration status of an Cloud Volumes ONTAP system.Operation may only be performed on working environments whose status is: ON
----
GET /vsa/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Registers an Cloud Volumes ONTAP system with NetApp.Operation may only be performed on working environments whose status is: ON
----
POST /vsa/working-environments/{workingEnvironmentId}/support-registration
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentId|Public Id of working environment|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<SupportRegistrationResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Working-environments
==== Retrieves all working environments.
----
GET /working-environments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|tenantId|Filter working environments by tenantId. Required for Oncloud Admin if performing operation requesting specific fields|false|string|
|QueryParameter|fields||false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<WorkingEnvironments>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Returns all non prem working environment actions required in a givent tenant.
----
GET /working-environments/actionRequired/{tenantId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tenantId|Public Id of tenant|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|<<TenantActionsRequiredResponse>>
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Returns true if working environment with that name already exists, false otherwise.
----
GET /working-environments/exists/{workingEnvironmentName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|workingEnvironmentName|Working environment name|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|default|success|boolean
|===

===== Consumes

* application/json

===== Produces

* application/json
