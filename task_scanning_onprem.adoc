---
sidebar: sidebar
permalink: task_scanning_onprem.html
keywords: cloud compliance, on-prem, scan on prem data, scan on-prem data
summary: You can scan data on your on-premises ONTAP systems directly using Cloud Compliance, or you can replicate the on-prem NFS or CIFS data to a Cloud Volumes ONTAP working environment and then enable compliance for those data protection volumes. Choose whichever way works best for you.
---

= Scanning on-premises ONTAP data with Cloud Compliance
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
You can scan data on your on-premises ONTAP systems directly using Cloud Compliance, or you can replicate the on-prem NFS or CIFS data to a Cloud Volumes ONTAP working environment and then enable compliance for those data protection volumes. Choose whichever way works best for you.

== Scanning data in on-premises ONTAP working environments

If you have link:task_discovering_ontap.html[discovered your ONTAP clusters^] and added them to a working environment in Cloud Manager, you can scan volume data directly from those on-prem clusters.

Complete a few steps to get started with Cloud Compliance for on-premises ONTAP clusters.

== Quick start

Get started quickly by following these steps or scroll down to the remaining sections for full details.

==== image:number1.png[Number 1] Deploy the Cloud Compliance instance

[role="quick-margin-para"]
link:task_deploy_cloud_compliance.html[Deploy Cloud Compliance in Cloud Manager^] if there isn't already an instance deployed.

==== image:number2.png[Number 2] Enable Cloud Compliance in your working environments

[role="quick-margin-para"]
Click *Compliance*, select the *Configuration* tab, and activate compliance scans for specific working environments.

==== image:number3.png[Number 3]  Configure volumes to scan

[role="quick-margin-para"]
Select the volumes that you'd like to scan and Cloud Compliance will start scanning them.

== Deploying the Cloud Compliance instance

link:task_deploy_cloud_compliance.html[Deploy Cloud Compliance^] if there isn't already an instance deployed.

Cloud Compliance can be deployed in the cloud or in an on-premises location when scanning on-premises ONTAP clusters.

== Enabling Cloud Compliance in your working environments

. At the top of Cloud Manager, click *Compliance* and then select the *Configuration* tab.
+
image:screenshot_cloud_compliance_we_scan_config.png[A screenshot of the Scan Configuration tab immediately after deploying the Cloud Compliance instance.]

. To scan all volumes in a working environment, click *Activate Compliance for All Volumes*.
+
To scan only certain volumes in a working environment, click *or select Volumes* and then choose the volumes you want to scan.

See link:task_getting_started_compliance.html#enabling-and-disabling-compliance-scans-on-volumes[Enabling and disabling compliance scans on volumes] for details.

.Result

Cloud Compliance starts scanning the data on each working environment. Results will be available in the Compliance dashboard as soon as Cloud Compliance finishes the initial scans. The time that it takes depends on the amount of data--it could be a few minutes or hours.

== Scanning on-premises ONTAP data by using SnapMirror

You can scan your on-premises ONTAP data with Cloud Compliance by replicating the on-prem NFS or CIFS data to a Cloud Volumes ONTAP working environment and then enabling compliance on those data protection volumes.

You must have link:task_deploy_cloud_compliance.html[deployed an instance of Cloud Compliance in Cloud Manager already^].

.Steps

. From Cloud Manager, create a SnapMirror relationship between the on-premises ONTAP cluster and Cloud Volumes ONTAP.

.. https://docs.netapp.com/us-en/occm/task_discovering_ontap.html[Discover the on-premises cluster in Cloud Manager^].

.. https://docs.netapp.com/us-en/occm/task_replicating_data.html[Create a SnapMirror replication between the on-premises ONTAP cluster and Cloud Volumes ONTAP from Cloud Manager^].

.	From Cloud Manager, activate Cloud Compliance on the Cloud Volumes ONTAP working environment that contains the SnapMirror data:
.. Click *Working Environments*.
.. Select the working environment that contains the SnapMirror data and click *Enable Compliance*.
+
link:task_getting_started_compliance.html[Click here if you need help with enabling Cloud Compliance on a Cloud Volumes ONTAP system^].

. Click the *Enable Access to DP volumes* button at the top of the _Scan Configuration_ page so that Cloud Compliance can access the DP volumes.
+
NFS volumes are enabled, but CIFS volumes require that you enter Active Directory Admin credentials.

. Activate each DP volume that you want to scan, or use the *Activate Compliance for all Volumes* control to enable all volumes, including all DP volumes.

See link:task_getting_started_compliance.html#scanning-data-protection-volumes[Scanning data protection volumes^] for more information.
